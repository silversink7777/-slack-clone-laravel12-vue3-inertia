import{C as k,d as m,q as M,A,e as g,o as h,b as n,a as e,u as l,p as O,r as v,t as b,f as $,Q as B}from"./app-Dat6Ui5J.js";import{_ as N}from"./WorkspaceSidebar-V0T4plSC.js";import{_ as S,r as p,a as U}from"./ChannelListSidebar-BF5V8X26.js";const E={class:"flex h-screen bg-gray-100 text-gray-800"},L={class:"flex-1 flex flex-col"},V={class:"h-16 border-b border-gray-200 bg-white flex items-center justify-between px-6"},Q={class:"flex items-center font-bold"},R={class:"flex items-center space-x-4"},j={class:"text-sm font-medium"},q={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200"},F={__name:"InvitationLayout",props:{title:String,channels:Array,"direct-messages":Array,manualOffline:Boolean},emits:["toggleManualOffline","selectChannel","newChannelAdded"],setup(o,{emit:x}){var d;const i=x,y=(d=k().props.auth)==null?void 0:d.user,r=m(!1),c=m(null),w=()=>{B.post(route("logout"))},_=()=>{r.value=!r.value},C=()=>{r.value=!1},u=s=>{c.value&&!c.value.contains(s.target)&&C()};return M(()=>{document.addEventListener("click",u)}),A(()=>{document.removeEventListener("click",u)}),(s,t)=>{var f;return h(),g("div",null,[n(l(O),{title:o.title},null,8,["title"]),e("div",E,[n(N),n(S,{channels:o.channels,"direct-messages":s.direct-s.messages,"manual-offline":o.manualOffline,onToggleManualOffline:t[0]||(t[0]=a=>i("toggleManualOffline",a)),onSelectChannel:t[1]||(t[1]=a=>i("selectChannel",a)),onNewChannelAdded:t[2]||(t[2]=a=>i("newChannelAdded",a))},null,8,["channels","direct-messages","manual-offline"]),e("div",L,[e("div",V,[e("div",null,[e("button",Q,[e("span",null,b(o.title),1),n(l(p),{class:"h-5 w-5 ml-1"})])]),e("div",R,[e("div",{ref_key:"userMenuRef",ref:c,class:"relative"},[e("button",{onClick:_,class:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none"},[n(l(U),{class:"h-8 w-8"}),e("span",j,b((f=l(y))==null?void 0:f.name),1),n(l(p),{class:"h-4 w-4"})]),r.value?(h(),g("div",q,[e("button",{onClick:w,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," ログアウト ")])):$("",!0)],512)])]),v(s.$slots,"notifications"),v(s.$slots,"default")])])])}}};export{F as _};
