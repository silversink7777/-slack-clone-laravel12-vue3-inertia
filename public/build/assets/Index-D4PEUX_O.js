import{d as m,c as p,o as a,w as i,a as e,e as n,f as h,b as f,u as c,S as u,g as y,j as S,k as T,v as B,t as o,F as v,h as w,n as k,Q as _}from"./app-DRrSN6Zv.js";import{_ as V}from"./AdminLayout-CF7uqqqR.js";const H={class:"space-y-6"},N={class:"flex justify-between items-center"},z={class:"flex space-x-3"},O={class:"bg-white rounded-lg shadow border border-gray-200 p-6"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},I={class:"bg-white rounded-lg shadow border border-gray-200"},Q={class:"px-6 py-4 border-b border-gray-200"},$={class:"text-lg font-medium text-gray-900"},E={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200"},P={class:"bg-white divide-y divide-gray-200"},U={class:"px-6 py-4 whitespace-nowrap"},q={class:"px-6 py-4 whitespace-nowrap"},A={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},G={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},K={class:"flex justify-end space-x-2"},R=["onClick"],W={key:0,class:"px-6 py-3 border-t border-gray-200"},X={class:"flex items-center justify-between"},Y={class:"text-sm text-gray-700"},Z={class:"flex space-x-2"},ee=["innerHTML"],te={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},se={class:"mt-3 text-center"},re={class:"mt-2 px-7 py-3"},le={class:"text-sm text-gray-500"},de={__name:"Index",props:{admin:Object,channels:Object,filters:Object},setup(r){const j=r,x=m(!1),d=m(null),C=()=>{_.get(route("admin.channels.index"),j.filters,{preserveState:!0,preserveScroll:!0})},D=l=>{d.value=l,x.value=!0},g=()=>{x.value=!1,d.value=null},M=()=>{d.value&&_.delete(route("admin.channels.destroy",d.value.id),{onSuccess:()=>{g()}})},L=l=>new Date(l).toLocaleDateString("ja-JP");return(l,t)=>(a(),p(V,{admin:r.admin},{default:i(()=>{var b;return[e("div",H,[e("div",N,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"チャンネル管理"),e("p",{class:"text-gray-600"},"全チャンネルの管理・編集・削除ができます")],-1)),e("div",z,[f(c(u),{href:l.route("admin.channels.create"),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:i(()=>t[1]||(t[1]=[y("新規作成")])),_:1,__:[1]},8,["href"])])]),e("div",O,[e("form",{onSubmit:S(C,["prevent"]),class:"space-y-4"},[e("div",F,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"検索",-1)),T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.filters.search=s),type:"text",placeholder:"チャンネル名",class:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[B,r.filters.search]])]),t[4]||(t[4]=e("div",{class:"flex items-end"},[e("button",{type:"submit",class:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},"検索")],-1))])],32)]),e("div",I,[e("div",Q,[e("h3",$,"チャンネル一覧 ("+o(r.channels.total)+"件)",1)]),e("div",E,[e("table",J,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"チャンネル名"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"作成日"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"操作")])],-1)),e("tbody",P,[(a(!0),n(v,null,w(r.channels.data,s=>(a(),n("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",U,o(s.id),1),e("td",q,o(s.name),1),e("td",A,o(L(s.created_at)),1),e("td",G,[e("div",K,[f(c(u),{href:l.route("admin.channels.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:i(()=>t[5]||(t[5]=[y("詳細")])),_:2,__:[5]},1032,["href"]),f(c(u),{href:l.route("admin.channels.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:i(()=>t[6]||(t[6]=[y("編集")])),_:2,__:[6]},1032,["href"]),e("button",{onClick:ae=>D(s),class:"text-red-600 hover:text-red-900"},"削除",8,R)])])]))),128))])])]),r.channels.links?(a(),n("div",W,[e("div",X,[e("div",Y,o(r.channels.from)+" - "+o(r.channels.to)+" / "+o(r.channels.total)+"件",1),e("div",Z,[l.link&&l.link.url?(a(!0),n(v,{key:0},w(r.channels.links,s=>(a(),p(c(u),{key:s.label,href:s.url,class:k(["px-3 py-2 text-sm rounded-lg",s.active?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128)):l.link?(a(),n("span",{key:1,class:k(["px-3 py-2 text-sm rounded-lg cursor-not-allowed","bg-gray-100 text-gray-400 border border-gray-200"]),innerHTML:l.link.label},null,8,ee)):h("",!0)])])])):h("",!0)]),x.value?(a(),n("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:g},[e("div",te,[e("div",se,[t[8]||(t[8]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 mt-4"},"チャンネルを削除",-1)),e("div",re,[e("p",le,"「"+o((b=d.value)==null?void 0:b.name)+"」を削除しますか？この操作は取り消せません。",1)]),e("div",{class:"flex justify-center space-x-4 mt-4"},[e("button",{onClick:g,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400"},"キャンセル"),e("button",{onClick:M,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"削除")])])])])):h("",!0)])]}),_:1},8,["admin"]))}};export{de as default};
