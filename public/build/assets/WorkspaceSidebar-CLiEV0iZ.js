import{e as l,o as c,a as o,d as p,q as f,A as h,u as s,Q as a,b as w,f as g,t as m,z as x}from"./app-CAzOxNXh.js";function b(u,t){return c(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}const k={class:"w-20 bg-slack-purple-darker dark:bg-gray-900 text-white p-2"},y={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center min-w-[20px]"},_={__name:"WorkspaceSidebar",setup(u){const t=p(0);let r=null;const i=async()=>{try{const e=await x.get("/my-invitations");e.data&&Array.isArray(e.data)&&(t.value=e.data.length)}catch(e){console.error("Failed to fetch invitation count:",e),t.value=0}},d=()=>{r&&clearInterval(r),r=setInterval(i,3e4)},v=()=>{a.visit("/invitations")};return f(()=>{i(),d(),window.addEventListener("invitation-count-updated",i)}),h(()=>{r&&clearInterval(r),window.removeEventListener("invitation-count-updated",i)}),(e,n)=>(c(),l("div",k,[o("button",{onClick:n[0]||(n[0]=()=>s(a).visit("/")),class:"rounded-lg bg-white text-purple-900 w-12 h-12 flex items-center justify-center text-2xl font-bold mb-4 hover:bg-gray-100 transition-colors cursor-pointer",title:"トップ画面に戻る"}," T "),o("button",{onClick:v,class:"relative w-12 h-12 rounded-lg hover:bg-purple-700 flex items-center justify-center mb-2 transition-colors",title:"招待通知"},[w(s(b),{class:"h-6 w-6"}),t.value>0?(c(),l("div",y,m(t.value>99?"99+":t.value),1)):g("",!0)]),o("button",{onClick:n[1]||(n[1]=()=>s(a).visit("/direct-messages")),class:"w-12 h-12 rounded-lg hover:bg-purple-700 flex items-center justify-center mb-2 transition-colors",title:"ダイレクトメッセージ"},n[2]||(n[2]=[o("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)]))]))}};export{_};
