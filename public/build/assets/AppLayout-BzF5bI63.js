import{e as o,o as l,a as e,B as N,d as x,q as P,A as G,b as h,t as w,u as p,k as Z,f as C,v as E,g as z,F as I,h as F,Q as K,z as U,C as Q,p as J,r as R}from"./app-DdjTxcVX.js";import{r as H,a as W,_ as X,b as Y}from"./ChannelListSidebar-DqY6y3w-.js";function ee(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"})])}function te(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function se(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ne(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function ae(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function oe(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"})])}function le(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}function re(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function ie(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function ce(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function de(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"})])}function q(a,g){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const ue={class:"h-16 border-b border-gray-200 bg-white flex items-center justify-between px-6"},he={class:"flex items-center font-bold"},ve={class:"flex items-center space-x-4"},ge={class:"relative search-container"},me={key:1,class:"absolute top-full left-0 right-0 mt-1 bg-white rounded-md shadow-lg border border-gray-200 max-h-96 overflow-y-auto z-50"},fe={key:0,class:"p-4 text-center text-gray-500"},pe={key:1,class:"p-4 text-center text-red-500"},xe={key:2,class:"py-2"},we=["onClick"],ye={class:"flex items-start space-x-3"},_e={class:"flex-shrink-0"},be={class:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center"},ke={class:"text-sm font-medium text-gray-600"},$e={class:"flex-1 min-w-0"},Ce={class:"flex items-center space-x-2"},Me={class:"text-sm font-medium text-gray-900"},je={class:"text-xs text-gray-500"},Se={class:"text-xs text-gray-400"},Be={class:"mt-1 text-sm text-gray-700"},De=["innerHTML"],Ue={key:3,class:"p-4 text-center text-gray-500"},Le={class:"text-sm font-medium"},Ae={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200"},Oe=["href"],Ve=["src","alt"],Ze={__name:"MainHeader",props:{activeChannel:Object},setup(a){var f;const u=(f=N().props.auth)==null?void 0:f.user,m=x(!1),s=x(null),t=x(""),r=x([]),y=x(!1),i=x(!1),v=x("");function c(d,n){let $;return function(...B){const D=()=>{$=null,d.apply(this,B)};clearTimeout($),$=setTimeout(D,n)}}const _=c(async d=>{if(!d.trim()){r.value=[],i.value=!1;return}y.value=!0,v.value="";try{const n=await U.get("/messages/search",{params:{q:d.trim()}});r.value=n.data.messages,i.value=!0}catch(n){console.error("Search error:",n),v.value="検索中にエラーが発生しました",r.value=[]}finally{y.value=!1}},300),b=()=>{_(t.value)},j=()=>{t.value="",r.value=[],i.value=!1,v.value=""},L=d=>{K.visit(`/dashboard?channel=${d.channel.id}&message=${d.id}`),j()},A=(d,n)=>{if(!n)return d;const $=new RegExp(`(${n})`,"gi");return d.replace($,'<mark class="bg-yellow-200 text-black px-1 rounded">$1</mark>')},O=()=>{K.post(route("logout"))},V=()=>{m.value=!m.value},S=()=>{m.value=!1},M=d=>{s.value&&!s.value.contains(d.target)&&S();const n=document.querySelector(".search-container");n&&!n.contains(d.target)&&(i.value=!1)};return P(()=>{document.addEventListener("click",M)}),G(()=>{document.removeEventListener("click",M)}),(d,n)=>{var $,B,D,T;return l(),o("div",ue,[e("div",null,[e("button",he,[e("span",null,w(($=a.activeChannel)==null?void 0:$.name),1),h(p(H),{class:"h-5 w-5 ml-1"})])]),e("div",ve,[h(p(se),{class:"h-6 w-6 text-gray-500"}),e("div",ge,[h(p(ae),{class:"h-5 w-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),Z(e("input",{"onUpdate:modelValue":n[0]||(n[0]=k=>t.value=k),onInput:b,onFocus:n[1]||(n[1]=k=>i.value=!0),type:"text",placeholder:"メッセージを検索する",class:"bg-gray-100 rounded-md w-80 pl-10 pr-8 py-1.5 focus:ring-blue-500 focus:border-blue-500 border-transparent"},null,544),[[E,t.value]]),t.value?(l(),o("button",{key:0,onClick:j,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"検索をクリア"},n[2]||(n[2]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):C("",!0),i.value&&(r.value.length>0||y.value||v.value)?(l(),o("div",me,[y.value?(l(),o("div",fe,n[3]||(n[3]=[e("div",{class:"flex items-center justify-center"},[e("svg",{class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),z(" 検索中... ")],-1)]))):v.value?(l(),o("div",pe,w(v.value),1)):r.value.length>0?(l(),o("div",xe,[(l(!0),o(I,null,F(r.value,k=>(l(),o("div",{key:k.id,onClick:Bt=>L(k),class:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0"},[e("div",ye,[e("div",_e,[e("div",be,[e("span",ke,w(k.user.name.charAt(0).toUpperCase()),1)])]),e("div",$e,[e("div",Ce,[e("span",Me,w(k.user.name),1),e("span",je,"#"+w(k.channel.name),1),e("span",Se,w(k.date)+" "+w(k.time),1)]),e("div",Be,[e("span",{innerHTML:A(k.content,t.value)},null,8,De)])])])],8,we))),128))])):(l(),o("div",Ue,' "'+w(t.value)+'" に一致するメッセージが見つかりませんでした ',1))])):C("",!0)]),e("div",{ref_key:"userMenuRef",ref:s,class:"relative"},[e("button",{onClick:V,class:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none"},[h(p(W),{class:"h-8 w-8"}),e("span",Le,w((B=p(u))==null?void 0:B.name),1),h(p(H),{class:"h-4 w-4"})]),m.value?(l(),o("div",Ae,[e("a",{href:d.route("profile.show"),class:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 border-b border-gray-100"},[e("img",{src:(D=p(u))==null?void 0:D.profile_photo_url,alt:(T=p(u))==null?void 0:T.name,class:"w-8 h-8 rounded-full object-cover mr-2 border border-gray-300"},null,8,Ve),n[4]||(n[4]=e("span",null,"プロフィール",-1))],8,Oe),e("button",{onClick:O,class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," ログアウト ")])):C("",!0)],512)])])}}},Ee={class:"p-4 bg-white border-t border-gray-200"},ze={class:"border rounded-lg p-2 flex flex-col"},Te=["disabled"],Ke={class:"flex items-center justify-between mt-2"},Re={class:"flex items-center space-x-2"},He={class:"text-gray-500 hover:text-gray-800"},Ne={class:"text-gray-500 hover:text-gray-800"},Ie={class:"text-gray-500 hover:text-gray-800"},Fe={class:"flex items-center space-x-2"},Qe={class:"text-gray-500 hover:text-gray-800"},qe={class:"text-gray-500 hover:text-gray-800"},Pe=["disabled"],Ge={__name:"MessageInput",props:{activeChannel:Object},emits:["messageSent"],setup(a,{emit:g}){const u=a,m=g,s=x(""),t=x(!1),r=async()=>{if(!(!s.value.trim()||!u.activeChannel)){t.value=!0;try{const i=await U.post("/messages",{content:s.value.trim(),channel_id:u.activeChannel.id});m("messageSent",i.data),s.value=""}catch(i){console.error("Message sending failed:",i)}finally{t.value=!1}}},y=i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),r())};return(i,v)=>(l(),o("div",Ee,[e("div",ze,[Z(e("textarea",{"onUpdate:modelValue":v[0]||(v[0]=c=>s.value=c),onKeypress:y,class:"w-full border-none focus:ring-0 resize-none",placeholder:"メモを書く",rows:"1",disabled:t.value},null,40,Te),[[E,s.value]]),e("div",Ke,[e("div",Re,[e("button",He,[h(p(ie),{class:"h-6 w-6"})]),e("button",Ne,[h(p(de),{class:"h-6 w-6"})]),e("button",Ie,[h(p(oe),{class:"h-6 w-6"})])]),e("div",Fe,[e("button",Qe,[h(p(ne),{class:"h-6 w-6"})]),e("button",qe,[h(p(ee),{class:"h-6 w-6"})]),e("button",{onClick:r,disabled:!s.value.trim()||t.value,class:"bg-gray-800 text-white rounded p-1 hover:bg-gray-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},[h(p(le),{class:"h-5 w-5"})],8,Pe)])])])]))}},Je={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},We={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},Xe={class:"flex items-center justify-between mb-4"},Ye={class:"mb-4"},et=["disabled"],tt={key:0,class:"mt-2 text-red-600 text-sm"},st={class:"flex justify-end space-x-3"},nt=["disabled"],at=["disabled"],ot={__name:"MessageEditModal",props:{show:Boolean,message:Object},emits:["close","messageUpdated"],setup(a,{emit:g}){const u=a,m=g,s=x(""),t=x(!1),r=x("");Q(()=>u.message,c=>{c&&(s.value=c.content,r.value="")},{immediate:!0});const y=async()=>{var c,_;if(!(!s.value.trim()||!u.message)){t.value=!0,r.value="";try{const b=await U.put(`/messages/${u.message.id}`,{content:s.value.trim()});m("messageUpdated",b.data),m("close")}catch(b){console.error("Message update failed:",b),(_=(c=b.response)==null?void 0:c.data)!=null&&_.message?r.value=b.response.data.message:r.value="メッセージの更新に失敗しました"}finally{t.value=!1}}},i=()=>{var c;s.value=((c=u.message)==null?void 0:c.content)||"",r.value="",m("close")},v=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),y())};return(c,_)=>a.show?(l(),o("div",Je,[e("div",We,[e("div",Xe,[_[1]||(_[1]=e("h3",{class:"text-lg font-semibold"},"メッセージを編集",-1)),e("button",{onClick:i,class:"text-gray-500 hover:text-gray-700"},[h(p(q),{class:"h-6 w-6"})])]),e("div",Ye,[Z(e("textarea",{"onUpdate:modelValue":_[0]||(_[0]=b=>s.value=b),onKeypress:v,class:"w-full border border-gray-300 rounded-lg p-3 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"メッセージを入力してください",rows:"4",disabled:t.value},null,40,et),[[E,s.value]]),r.value?(l(),o("div",tt,w(r.value),1)):C("",!0)]),e("div",st,[e("button",{onClick:i,class:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:t.value}," キャンセル ",8,nt),e("button",{onClick:y,disabled:!s.value.trim()||t.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2"},[h(p(te),{class:"h-4 w-4"}),e("span",null,w(t.value?"更新中...":"更新"),1)],8,at)])])])):C("",!0)}},lt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},rt={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},it={class:"flex items-center justify-between mb-4"},ct={class:"mb-4 text-gray-700"},dt={class:"mt-2 p-2 bg-gray-100 rounded text-gray-800"},ut={key:0,class:"mt-2 text-red-600 text-sm"},ht={class:"flex justify-end space-x-3"},vt=["disabled"],gt=["disabled"],mt={__name:"MessageDeleteModal",props:{show:Boolean,message:Object},emits:["close","messageDeleted"],setup(a,{emit:g}){const u=a,m=g,s=x(!1),t=x(""),r=async()=>{var i,v;if(u.message){s.value=!0,t.value="";try{await U.delete(`/messages/${u.message.id}`),m("messageDeleted",u.message.id),m("close")}catch(c){t.value=((v=(i=c.response)==null?void 0:i.data)==null?void 0:v.message)||"削除に失敗しました"}finally{s.value=!1}}},y=()=>{t.value="",m("close")};return(i,v)=>{var c;return a.show?(l(),o("div",lt,[e("div",rt,[e("div",it,[v[0]||(v[0]=e("h3",{class:"text-lg font-semibold"},"メッセージを削除",-1)),e("button",{onClick:y,class:"text-gray-500 hover:text-gray-700"},[h(p(q),{class:"h-6 w-6"})])]),e("div",ct,[v[1]||(v[1]=z(" 本当にこのメッセージを削除しますか？ ")),e("div",dt,w((c=a.message)==null?void 0:c.content),1),t.value?(l(),o("div",ut,w(t.value),1)):C("",!0)]),e("div",ht,[e("button",{onClick:y,class:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:s.value}," キャンセル ",8,vt),e("button",{onClick:r,disabled:s.value,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2"},[h(p(ce),{class:"h-4 w-4"}),e("span",null,w(s.value?"削除中...":"削除"),1)],8,gt)])])])):C("",!0)}}},ft={class:"flex-1 flex flex-col bg-white"},pt={class:"flex-1 p-6 overflow-y-auto"},xt={class:"flex-1"},wt={class:"flex items-center justify-between"},yt={class:"font-bold"},_t={class:"text-xs text-gray-500 font-normal ml-2"},bt={class:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity"},kt=["onClick"],$t=["onClick"],Ct={class:"text-gray-800"},Mt={__name:"MainContent",props:{messages:{type:Array,default:()=>[]},activeChannel:Object},emits:["messageSent","messageUpdated","messageDeleted"],setup(a,{emit:g}){var M;const m=(M=N().props.auth)==null?void 0:M.user,s=a,t=g,r=x([...s.messages||[]]),y=x(!1),i=x(null),v=x(!1),c=x(null);Q(()=>s.messages,f=>{r.value=[...f||[]]},{deep:!0});const _=f=>{r.value.unshift(f),t("messageSent",f)},b=f=>{const d=r.value.findIndex(n=>n.id===f.id);d!==-1&&(r.value[d]=f),t("messageUpdated",f)},j=f=>{const d=r.value.findIndex(n=>n.id===f);d!==-1&&r.value.splice(d,1),t("messageDeleted",f)},L=f=>{i.value=f,y.value=!0},A=()=>{y.value=!1,i.value=null},O=f=>{c.value=f,v.value=!0},V=()=>{v.value=!1,c.value=null},S=f=>m&&f.user.id===m.id;return(f,d)=>(l(),o("div",ft,[h(Ze,{"active-channel":a.activeChannel},null,8,["active-channel"]),e("div",pt,[(l(!0),o(I,null,F(r.value,n=>(l(),o("div",{key:n.id,class:"flex items-start mb-4 group hover:bg-gray-50 rounded-lg p-2 -m-2"},[d[1]||(d[1]=e("div",{class:"w-10 h-10 rounded bg-purple-400 mr-4 shrink-0"},null,-1)),e("div",xt,[e("div",wt,[e("p",yt,[z(w(n.user.name)+" ",1),e("span",_t,w(n.time),1)]),e("div",bt,[S(n)?(l(),o("button",{key:0,onClick:$=>L(n),class:"text-gray-500 hover:text-gray-700 p-1 rounded",title:"メッセージを編集"},[h(p(re),{class:"h-4 w-4"})],8,kt)):C("",!0),S(n)?(l(),o("button",{key:1,onClick:$=>O(n),class:"text-red-500 hover:text-red-700 p-1 rounded",title:"メッセージを削除"},d[0]||(d[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,$t)):C("",!0)])]),e("p",Ct,w(n.content),1)])]))),128))]),h(Ge,{"active-channel":a.activeChannel,onMessageSent:_},null,8,["active-channel"]),h(ot,{show:y.value,message:i.value,onClose:A,onMessageUpdated:b},null,8,["show","message"]),h(mt,{show:v.value,message:c.value,onClose:V,onMessageDeleted:j},null,8,["show","message"])]))}},jt={class:"flex h-screen bg-gray-100 text-gray-800"},St={class:"flex-1 flex flex-col"},Lt={__name:"AppLayout",props:{title:String,channels:Array,"direct-messages":Array,messages:Array,activeChannel:Object,manualOffline:Boolean},emits:["selectChannel","newChannelAdded","messageSent","messageUpdated","messageDeleted","toggleManualOffline","channelDeleted","channelLeft"],setup(a,{emit:g}){const u=g;return(m,s)=>(l(),o("div",null,[h(p(J),{title:a.title},null,8,["title"]),e("div",jt,[h(X),h(Y,{channels:a.channels,"direct-messages":m.direct-a.messages,"manual-offline":a.manualOffline,onToggleManualOffline:s[0]||(s[0]=t=>u("toggleManualOffline",t)),onSelectChannel:s[1]||(s[1]=t=>u("selectChannel",t)),onNewChannelAdded:s[2]||(s[2]=t=>u("newChannelAdded",t)),onChannelDeleted:s[3]||(s[3]=t=>u("channelDeleted",t)),onChannelLeft:s[4]||(s[4]=t=>u("channelLeft",t))},null,8,["channels","direct-messages","manual-offline"]),e("div",St,[R(m.$slots,"notifications"),R(m.$slots,"default"),h(Mt,{messages:a.messages,"active-channel":a.activeChannel,onMessageSent:s[5]||(s[5]=t=>u("messageSent",t)),onMessageUpdated:s[6]||(s[6]=t=>u("messageUpdated",t)),onMessageDeleted:s[7]||(s[7]=t=>u("messageDeleted",t))},null,8,["messages","active-channel"])])])]))}};export{Lt as _};
